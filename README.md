# Система учета рабочего времени сотрудников предприятия
**!!!** Для работы проекта нужно создать администратора (python manage.py createsuperuser). Регистрировать пользователей и менять их пароль и токен имеет право только администратор.  
RUN COMMANDS IN TERMINAL
```
pip install -r requirements.txt  
python manage.py migrate  
python manage.py createsuperuser 
``` 
## API
1. **{host_name}/api/empolyees/** - сотрудники с детальной информацией (имя, фамилия, email, номер телефона, отдел, должность)
2. **{host_name}/api/controls/** - записи о прибытии/уходе сотрудников ("id", "employee_id", "employee_first_name", "employee_last_name", "date", "time", "status", "reason")
3. **{host_name}/api/today/** - записи о прибытии/уходе сотрудников за нынешний день  
***
***СТРАНИЦЫ*** 
1. [Структура базы данных](##-структура-базы-даныых)
2. [Страница аутентификации](##-страница-аутентификации)
3. [Страница регистрации прибытия (ухода) сотрудника](##-страница-регистрации-прибытия-(ухода)-сотрудника)
4. [Страница таблицы сотрудников](##-страница-таблицы-сотрудников)

## Структура базы данных 
***
![Структура базы данных](https://github.com/SamayaA/staff_attendance/blob/master/readme_media/db.png)

## Страница аутентификации
***
**{host_name}/**  
Если пользователь с таким логином и паролем будет найден, то мы перенаправим данного пользователя на страницу регистрации прибытия (убытия) сотрудника, в противном случае выводим сообщение о неправильно введенной информации.  
![Страница аутентификации](https://github.com/SamayaA/staff_attendance/blob/master/readme_media/authentication_page.png)

## Страница регистрации прибытия (ухода) сотрудника
***
**{host_name}/register/**

При нажатии на кнопку отправить идет проверка если выбранный пользователем статус уже был выбран ранее в этот же день, то у него откроется страница с текстом: “Вы не можете выбрать этот статус”. Также данная страница высвечивается  в том случае, если пользователь выбрал статус ушел, но статуса прибытия у него не было в этот день. Если пользователь пройдет регистрацию успешно, то эта информация сохранится в отношении контроль, а также в API домен/api/controls/. Время и дата определяется автоматически при отправки формы.  
![Страница регистрации действия сотрудника](https://github.com/SamayaA/staff_attendance/blob/master/readme_media/register_page.png)

## Страница таблицы сотрудников
***
**{host_name}/list/**  
Генерация этой страницы происходит за счет функции workers, которая с помощью библиотеки requests отправляет GET запрос на домен сайта/api/today/ . API данного проекта доступен только для авторизованных лиц.  Содержит отфильтрованную информацию /api/controls/, а именно только информацию о нынешнем дне и сотрудников которые покинули рабочие место (в какое именно время) и сотрудников статус которого равен “прибыл”, но они еще не покинули здание организации.  
![Страница c таблицей сотрудников](https://github.com/SamayaA/staff_attendance/blob/master/readme_media/staff_table_page.png)

## Страница с информацией о сотруднике
***
**{host_name}/employee/**  

Данная страница также доступна только для лиц, прошедших аутентификацию. Если аутентификацию не пройдена, то идет перенаправление на страницу аутентификации. Данная страница состоит из одной карточки сотрудника. Выводится только нужная и доступная для авторизованных лиц информация, а именно:  
1. имя фамилия
2. отдел, в котором работает сотрудник
3. должность сотрудника
4. электронный адрес
5. номер телефона

![Страница с информацией о сотруднике](https://github.com/SamayaA/staff_attendance/blob/master/readme_media/employee_page.png)

## Административная панель
***
**{host_name}/admin/**  
Административную панель для удобного добавления и изменения информации в том числе смена паролей пользователей.  
